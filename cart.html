<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cart page</title>
    <style>
        body{
            width: 100%;
            margin: auto;
            color: black;
            /* background-color:  rgb(235,236,238) */
        }
        div>img{
            width:  20px;
            height: 15px;
            margin-top: 20px;
        }
        #parent>.sp{
            display: flex;
            justify-content: space-around;
        }
        /* .rk{
          margin-left: 50%;
            
        } */
        #child{
            text-align: center;
            
        }
        .space>p>img{
            width: 35px;
            height: 30px;
        }
        .space>p>p{
            display: block;
            margin-right: 10px;
        }
        
        #child>h2{
            font-size: 50px;
            color: rgb(51,63,72);
        }
        #child .ps{
             font-size: 20px;
             border: none;
             background-color: rgb(51,63,72);
             color: aliceblue;
             width: 400px;
             height: 60px;
        }
        #psb{
            display: flex;
            justify-content: space-around;
            padding-top: 80px; 
        }
        #fash{
            display: flex;
            width: 80%;
            margin: auto;
            padding-top: 40px;
            padding-bottom: 40px;
        }
        #fash>div{
            display: flex;
            gap: 20px;
        }
        #email{
            width: 400px;
            height: 30px;
        }
        .k{
            margin-left: 90px;
        }
       

        #fash>img{
            width: 500px;
        }
        #cartprod{
            width: 80%;
            display: flex;
            gap: 30px;
            margin: auto;
           justify-content: center;
           /* box-shadow: rgba(50, 50, 93, 0.25) 0px 30px 60px -12px, rgba(0, 0, 0, 0.3) 0px 18px 36px -18px; */
           /* margin-bottom: 20px; */
          box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
          margin-top: 30px;
          margin-bottom: 30px;
        }
        #cartprod>img{
            width: 160px;
            height: 180px;
            box-shadow: rgba(9, 30, 66, 0.25) 0px 4px 8px -2px, rgba(9, 30, 66, 0.08) 0px 0px 0px 1px;
            padding: 0px 0px 10px 10px;
            
            
        }
        /* #cartprod>.clas{
         border: 2px solid;
        } */
        .class{
            width: 40%;
            margin-left: 20px;
           
        }
        #rsk{
            width: 40%;
        }
        .clas{
           
            width: 55%;
        }
        
        /* .clas>h3{
            width:60%;
            
        } */
       .clas p{
        width: 35px;
       }
       
       #rsk{
        
        width: 50%;
        
       }
       h2{
        text-align: center;
       }
       /* #Offer>div>#carval{
        border: 3px solid black;
       } */
        #cardval>p{
            font-size: 40px;
            font-weight: bold;
        }
       #cartval>p>span{
        font-size: 40px;
       }
       #btn{
        background-color: rgb(51,63,72);
        color: aliceblue;
        border: none;
       }
     #delbtn{
      background-color:rgb(51,63,72);
      color: white;
      border: none;
      border-radius: 3px;
      width: 90px;
      height: 30px;
      margin-top: 84px;
      margin-right: 20px;

    }
    #cardval>p{
        text-align: center;
    }
    #Offer{

        width: 100%;
        height: 180px;
        text-align: center;
        margin: 10px 0px 10px 0px;
       
    }
    #Offer>div>p{
          font-weight: bold;
          font-size: 25px;
    }
   
   #Offer>div>button{
    background-color:rgb(51,63,72);
    color: white;
    height: 35px;
    width: 80px;
    border: none;
   }
   /* proceed button */
   #kranti>button{
      height: 50px;
        width: 400px;
       
        color: white;
        border: none;
        font-size: 25px;
        background-color: rgb(51,63,72);
        display: block;
        margin: auto;
        margin-bottom: 10px;
       
       
   }
   #kranti>button:hover{
      cursor: pointer;
    
   }
   #kranti{
    text-decoration: none;
   }
   .k>button{
    width: 140px;
    height: 45px;
    background-color: black;
    color: white;
    margin-right: 23px;
   }
   #project{
     height: 50px;
     
     background-color: rgb(38, 34, 34);
   }
   #prefer>div{
         display: flex;
   }
   #preft{
    
    display: flex;
    width: 90%;
   justify-content: center;
   gap: 50px;
   margin: auto;
   
   }
   #shu{
   
    box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
    width: 30%;
   }
   #child{
    
    box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
    width: 70%;
    
   }
   #promo{
    width: 250px;
    height: 30px;
   }
   #shubham{
    display: flex;
    gap: 10px;
    align-items: center;
    margin-top: -13px;
    margin-bottom: 15px;
    
   }
   #shubham>img{
    width: 90px;
    height: 90px;
    margin-left: 20px;
    margin-top: -10px;
   }
  #shubham>div>p{
    
    margin-left: 10px;
    text-justify: distribute-all-lines;
  }
  #pankaj-hr{
    width: 100%;
    background-color:rgb(51,63,72);
    color: white;
    display: flex;
    justify-content: space-around;
  }
  #email{
    width: 400px;
    height: 40px;
    margin-left: 20px;
  }
  #shubham-span1{
    color: red;

  }
  #shubham-span2{
   color:  rgb(24, 29, 33);
   font-size: 15px;
   font-weight: bold;
  }
  #shubham-span3{
    text-decoration: underline;
  }
  #pojit{
    width:100%;
    height: 5px;
    background-color: black;
  }
  
  
   
   @media only screen and (max-width: 900px) {
        /* Medium Screen  */
        #parent>.sp{
            display: flex;
            flex-direction: row;
        }
        #psb{
            display: flex;
            flex-direction: row;
        }
        #fash{
            display: flex;
            
        }
        #fash>div{
            display: flex;
        }
        #cartprod{
            display: flex;
           
        }
        #prefer>div{
         display: flex;
   }
   #preft{
    
    display: flex;
   
   
   }
      }
      @media only screen and (max-width: 500px) {
        /* Medium Screen  */
        #parent>.sp{
            display: flex;
            flex-direction: column;
        }
        #psb{
            display: flex;
            flex-direction:column;
            justify-content: space-around;
           
        }
        #fash{
            display: flex;
            flex-direction: column;
            width: 80%;
            margin: auto;
            padding-top: 5px;
            padding-bottom: 5px;
        }
        #fash>div{
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        #cartprod{
            display: flex;
           flex-direction: column;
        }
        #prefer>div{
         display: flex;
         flex-direction: column;
   }
   #preft{
    display: flex;
    flex-direction: column;
   }
      }
    </style>
</head>
<body>
    <div id="parent">
        
        <div class="sp">
            
        
        <div class="space">
            <p> Guam Premier Outlets </p>
            <p>Open today 10:00am-9:00pm</p>
            
        </div>
        <div class="rk">
            <p>Free Shipping for Rewards or Orders $75+</p>
            <p>Sign In / Join Now</p>
        </div>
    </div>
    </div>
    <div id="pankaj-hr" >
     <h4>$10 off $50+, $15 off $75+, $20 off $100+ with code TIME2SAVE</h4>
     <h4>Exclusions apply.</h4>
    </div>
       
   
    <h2>Your Cart:- <span id="per">0</span>  Items</h2>
     <div id="preft">
      <div id="child">
           
      </div>
      <div id="shu">
        <div id="Offer">
            <div>
                <p>Apply Promo Code</p>
                <input type="text" id="promo">
                <button>Check</button>
            </div> <br>
        </div>
          <div id="cardval">
            <p>Total Price:-$ <span id="pr"> </span></p>
          </div>
            
          
          <div id="shubham">
              <img src="https://www.famousfootwear.com/-/media/project/tenant/famous-footwear/famous-footwear/rewards-images/plcc-double.png?w=+1440&hash=68621878391AE4CD59361AC547BEFA9F" alt="">
              <div>
                <p><span id="shubham-span1">Enjoy $10 OFF Today*</span>  on your first purchase with the <span id="shubham-span2">FAMOUSLY YOU REWARDS® Credit Card</span>  at time of account opening. <span id="shubham-span3">Learn More</span> </p>
              </div>
          </div>
          <div>
            <a id="kranti" href="address.html"> <button>Checkout</button> </a>
          </div>
          <div id="pankaj-"></div>
      </div>
      
    
      
    </div>
      <span id="ok"> </span>
      <div id="psb">
           <p >Sign up for special offers & trend updates</p>
           <div class="k">
            <input type="text" name="email" id="email" placeholder="Email">
            <button >Sign Up</button>
           </div>
           
      </div>
      <hr id="pojit">
      <div id="fash">
        <div >
            <img src="https://www.famousfootwear.com/-/media/project/tenant/famous-footwear/famous-footwear/rewards-images/rewards-refresh-2022/secondary-footer/free_shipping.svg" alt="box">
        
        <div >
            <h4>Free Shipping for Members</h4>
            <p>Plus, return your purchase to any store, at any time.</p>
           
        </div>
        </div>
        
        
        <div >
            <img src="https://www.famousfootwear.com/-/media/project/tenant/famous-footwear/famous-footwear/footer/gift-card.svg" alt="box">
        
        <div>
            <h4>Famous Gift Cards</h4>
            <p>Fits every time! Physical card or instant eGift Card.</p>
           
        </div>
        </div>
        <div>
            <img src="https://www.famousfootwear.com/-/media/project/tenant/famous-footwear/famous-footwear/footer/ff-pickup.svg" alt="box">
        
        <div>
            <h4>Famously Fast Pickup</h4>
            <p>Order online, pick up in store or at the curb. Plus, members earn a bonus reward!</p>
            
        </div>
        </div>
        <div>
            <img src="https://www.famousfootwear.com/-/media/project/tenant/famous-footwear/famous-footwear/footer/zip.svg" alt="box">
        
        <div>
            <h4>Pay Your Way</h4>
            <p>Enjoy Zip, the Famously YOU Rewards® Credit Card and more.</p>
           
        </div>
        </div>
           
      </div>
      
      
 
    
</body>
</html>
<script>
  var cart=JSON.parse(localStorage.getItem("cartProducts")) || [];
  document.querySelector("button").addEventListener("click", check);

if(cart===0){
     document.querySelector("body").value;
}else{
    
    displayCart(cart);
    updateCount(cart);
    caltotal(cart)

    
    
}
function displayCart(cart){
    document.querySelector("#child").textContent="";
cart.map(function(elem,index){
       var div =document.createElement("div");
       div.setAttribute("id","cartprod");
       var image=document.createElement("img");
       image.setAttribute("src",elem.img_u1);
       image.setAttribute("alt",elem.name);
       
       var divp=document.createElement("div");
       divp.setAttribute("class","clas");

       var h3=document.createElement("h3");
       h3.textContent=elem.name;

       var p=document.createElement("p");
       p.textContent="Brand:"+elem.brand;

       var pa=document.createElement("p");
       pa.textContent="Width"+":";
  
       var par=document.createElement("p");
       par.textContent="Color"+":";
       
      

       var diva=document.createElement("div");
       diva.setAttribute("id","rsk");
       
       var price=document.createElement("p");
       price.textContent="$"+elem.price;

       var quantity=document.createElement("h2");
         quantity.textContent="Qty";

         var span=document.createElement("span");
         span.textContent=" "+"1";

        

       var increase=document.createElement("button");
       increase.setAttribute("id","btn")
          increase.textContent="+";
          increase.onclick=function(){
            increaseval(span.textContent);
          };
          function increaseval(value){
              var pr=parseInt(value)+1;
              var va=pr*(elem.price);
              span.textContent=pr;
              price.textContent="$"+va;
              var a= document.getElementById("pr").textContent;
             var last=parseInt(a)+parseInt(elem.price);
             document.getElementById("pr").textContent=last;

          }
         
          var decrease=document.createElement("button");
          decrease.setAttribute("id","btn")
          decrease.textContent="-";
          decrease.onclick=function(){
            decreaseval(span.textContent);
          };
          function decreaseval(value){
            if(value==1){
                return ;
             }else{
            var pr=parseInt(value)-1;
            var va=pr*elem.price
            span.textContent=pr;
              price.textContent="$"+va;
          var a= document.getElementById("pr").textContent;
       var last=parseInt(a)-parseInt(elem.price);
        document.getElementById("pr").textContent=last;
        }
        
            } 
          

          var tree=document.createElement("div");
         tree.setAttribute("id","pers");

         var del=document.createElement("button");
         del.setAttribute("id","delbtn")
         del.textContent="Remove";
         del.addEventListener("click",function(){
           delrow(elem);
      })
      
        quantity.append(span);
        diva.append(price,increase,quantity,decrease);
        divp.append(h3,p,pa,par);
        tree.append(del);
       
        div.append(image,divp,diva,tree);
        document.querySelector("#child").append(div);

    
});

}

function delrow(elem){
    
        cart.splice(elem,1);
        localStorage.setItem("cartProducts",JSON.stringify(cart))
        displayCart(cart);
        caltotal(cart);
        updateCount(cart);
    }
function updateCount(cart){
    document.getElementById("per").textContent=cart.length;
}

var cart=localStorage.getItem("cartp")
function caltotal(){
    var carval=0;
    for(var i=0;i<cart.length;i++){
        carval+=parseInt(cart[i].price);
         
    }
    document.getElementById("pr").textContent=carval;
   localStorage.setItem("cartp",JSON.stringify(cardval) );
   }
   function check(){
        var ch = document.getElementById("promo").value;
        console.log(ch);
        if(ch == "masai30"){
            var temp = document.createElement("p");
            temp.setAttribute("class","krp");
            alert(temp = "Hurray!... You got 30% off");
            document.getElementById("Offer").append(temp);
            var t = parseInt(document.getElementById("pr").textContent);
            var change = (t*3)/10;
            document.getElementById("pr").textContent = t - change;
        }
    }
    
   
</script>

